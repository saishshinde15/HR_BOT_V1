# ============================================================
# AWS Bedrock Configuration (Primary LLM and Embeddings)
# ============================================================
# Get your credentials from AWS Console
# Ensure Bedrock access is enabled in your AWS account
# Required for Amazon Bedrock Nova Pro (production model)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

AWS_REGION=us-east-1

# Model Configuration - Production Setup
# Nova Lite: $0.6/1M input tokens, $2.4/1M output tokens (90% cheaper than GPT-4, 80% cheaper than Nova Pro)
LLM_MODEL=bedrock/amazon.nova-lite-v1:0
EMBEDDING_MODEL=bedrock/amazon.titan-embed-text-v2:0

# Alternative Models (for different use cases)
# BEDROCK_MODEL=bedrock/amazon.nova-pro-v1:0  # Higher quality, 5x more expensive
# BEDROCK_MODEL=bedrock/us.amazon.nova-micro-v1:0  # Even cheaper, lower quality

# ============================================================
# API Deck Configuration (HR System Integration)
# ============================================================
# Get your credentials from: https://developers.apideck.com
# After signing up, connect your HR platform (SAP, Zoho, BambooHR, etc.)
APIDECK_API_KEY=your_apideck_api_key_here
APIDECK_APP_ID=your_apideck_app_id_here
APIDECK_SERVICE_ID=your_hr_service_id_here

# ============================================================
# Semantic Cache Configuration (Production-Grade Caching)
# ============================================================
# Intelligent caching with semantic similarity matching
# Dramatically improves response times for similar queries
ENABLE_CACHE=true
CACHE_TTL_HOURS=72  # Cache expires after 72 hours (3 days)
CACHE_SIMILARITY_THRESHOLD=0.75  # 60% similarity threshold for cache hits

# Cache Performance:
# - First query: 4-8s (full execution)
# - Cached query: 0.1-0.5s (95% faster!)
# - Expected hit rate: 30-40% in production

# ============================================================
# Hybrid RAG Configuration (BM25 + Vector Search)
# ============================================================
# Document chunking settings
CHUNK_SIZE=800              # Characters per chunk
CHUNK_OVERLAP=200           # Overlap between chunks for context

# Retrieval settings
TOP_K_RESULTS=12            # Number of top results to retrieve (increased for 120+ documents)

# Hybrid search weights (must sum to 1.0)
BM25_WEIGHT=0.5             # Keyword/lexical search weight
VECTOR_WEIGHT=0.5           # Semantic/embedding search weight

# Performance tuning:
# - Increase BM25_WEIGHT for exact term matching (policy names, dates)
# - Increase VECTOR_WEIGHT for semantic understanding (meaning-based queries)

# RRF (Reciprocal Rank Fusion) Configuration for larger document sets
RRF_CANDIDATE_MULTIPLIER=12  # Candidate pool size multiplier (increased from 8 to 12 for 120+ docs)
RRF_BM25_WEIGHT=1.5          # BM25 weight in RRF scoring
RRF_VECTOR_WEIGHT=1.0        # Vector weight in RRF scoring

# Document Classification and Filtering
ENABLE_CATEGORY_FILTERING=true  # Enable automatic category-based filtering

# ============================================================
# Google OAuth2 for Streamlit Login (No Cognito)
# ============================================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8501/

# # Executive Users (auto-assigned to Executives group)
EXECUTIVE_EMAILS=saish.shinde15@gmail.com,littlemasteraryan@gmail.com

# Employee Users (auto-assigned to Employees group)
EMPLOYEE_EMAILS=curioussilkworm@gmail.com,saish.sh15@gmail.com,princeofnavy@gmail.com,arydestroyer2202@gmail.com,nakshatrasali@gmail.com
ALLOW_DEV_LOGIN=false
DEV_TEST_EMAIL=littlemasteraryan@gmail.com,saish.shinde15@gmail.com
DEBUG_AUTH=true
# ============================================================
# Support / Contact Configuration
# ============================================================
SUPPORT_CONTACT_EMAIL=HELPME@company.com

# ============================================================
# Chainlit OAuth Configuration
# ============================================================
CHAINLIT_AUTH_SECRET=hr-bot-secure-cookie-secret-key-2025-change-this-in-production
CHAINLIT_BASE_URL=http://localhost:8501
CHAINLIT_OAUTH_CALLBACK_URL=http://localhost:8501/oauth/callback
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
